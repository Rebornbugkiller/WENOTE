# 服务器配置
server:
  port: 8080
  mode: release  # debug, release

# 数据库配置 (Docker内部使用mysql作为host)
database:
  host: mysql
  port: 3306
  username: root
  password: your-db-password
  dbname: wenote
  charset: utf8mb4
  max_idle_conns: 10
  max_open_conns: 100

# JWT配置
jwt:
  secret: your-jwt-secret-key-change-me
  expire: 168  # token过期时间（小时）

# AI配置（智谱GLM）
ai:
  zhipu:
    api_key: your-zhipu-api-key
    model: glm-4-flash
    base_url: https://open.bigmodel.cn/api/paas/v4
    daily_quota: 50  # 每日AI调用配额
    timeout: 30      # 单次请求超时时间（秒）
    max_retries: 2   # 最大重试次数
    retry_delay: 2   # 重试间隔基准时间（秒）

# Worker Pool配置
worker:
  max_workers: 5
  queue_size: 100
  task_timeout: 30  # 秒

# 限流配置
rate_limit:
  global_rate: 100    # 全局每秒请求数
  global_burst: 200   # 全局突发容量
  user_rate: 10       # 用户每秒请求数
  user_burst: 20      # 用户突发容量
  ip_rate: 20         # IP每秒请求数
  ip_burst: 40        # IP突发容量

# 清理配置
cleanup:
  enabled: true
  days: 30            # 清理30天以上的软删除笔记